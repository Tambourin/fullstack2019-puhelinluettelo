(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(39)},21:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(13),l=t.n(u),i=(t(21),t(14)),c=t(2),o=t(3),m=t.n(o),s="/api/persons",f=function(){return m.a.get(s).then(function(e){return e.data})},d=function(e){return m.a.post(s,e).then(function(e){return e.data})},b=function(e){return m.a.delete(s+"/"+e)},E=function(e){return m.a.put(s+"/"+e.id,e)},h=function(e){var n=e.persons,t=e.deletePerson,a=n.map(function(e){return r.a.createElement("p",{key:e.id},e.name," ",e.number,r.a.createElement("span",null,"  "),r.a.createElement("button",{onClick:t(e)},"Poista"))});return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Numerot"),a)},p=function(e){return r.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4:",r.a.createElement("input",{onChange:e.changeHandler,value:e.filter}))},v=function(e){return r.a.createElement("form",null,r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{onChange:e.nameChangeHandler,value:e.newName})),r.a.createElement("div",null,"numero:"," ",r.a.createElement("input",{onChange:e.numberChangeHandler,value:e.newNumber})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:e.submitHandler},"lis\xe4\xe4")))},g=function(e){var n=e.message;if(null===n||""===n)return null;return r.a.createElement("div",{style:{color:"green",border:"solid",fontSize:16}},r.a.createElement("p",null,n))},j=function(e){var n=e.errorMessage;if(null===n||""===n)return null;return r.a.createElement("div",{style:{color:"red",border:"solid",fontSize:16}},r.a.createElement("p",null,n))},w=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],u=n[1],l=Object(a.useState)("uusi nimi"),o=Object(c.a)(l,2),m=o[0],s=o[1],w=Object(a.useState)(" "),O=Object(c.a)(w,2),C=O[0],k=O[1],H=Object(a.useState)(""),y=Object(c.a)(H,2),S=y[0],P=y[1],N=Object(a.useState)(""),T=Object(c.a)(N,2),z=T[0],J=T[1],L=Object(a.useState)(""),M=Object(c.a)(L,2),x=M[0],B=M[1];return Object(a.useEffect)(function(){f().then(function(e){u(e)})},[]),r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(g,{message:z}),r.a.createElement(j,{errorMessage:x}),r.a.createElement(p,{changeHandler:function(e){P(e.target.value)},filer:S}),r.a.createElement(v,{nameChangeHandler:function(e){s(e.target.value)},numberChangeHandler:function(e){k(e.target.value)},newName:m,newNumber:C,submitHandler:function(e){if(e.preventDefault(),t.map(function(e){return e.name}).includes(m)){if(!window.confirm("".concat(m," on jo luettelossa, haluatko korvata numeron")))return;var n=t.find(function(e){return e.name===m}),a=Object(i.a)({},n,{number:C});E(a).then(function(e){u(t.map(function(n){return n.id!==e.data.id?n:e.data}))}).catch(function(e){B("P\xe4ivitt\xe4minen ei onnistunut"),setTimeout(function(){B(null)},5e3)})}else{var r={id:t.length+1,name:m,number:C};d(r).then(function(e){u(t.concat(e)),J("Uusi yhteystieto luotu."),setTimeout(function(){g(null)},5e3),s(""),k("")})}}}),r.a.createElement(h,{deletePerson:function(e){return function(){window.confirm("Haluatko varmasti poistaa hekil\xf6n ".concat(e.name))&&b(e.id).then(function(n){u(t.filter(function(n){return n.id!==e.id}))}).catch(function(e){B("Poistaminen ei onnistunut"),setTimeout(function(){B(null)},5e3)})}},persons:t.filter(function(e){return e.name.toLowerCase().match(S.toLowerCase())})}))};l.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.c23c7e2a.chunk.js.map